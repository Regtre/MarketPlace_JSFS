{"ast":null,"code":"var _jsxFileName = \"/home/rems/Documents/FAC/L3/S6/JSFS/vendez_les_votre/client/src/components/ItemsList/ItemListSelf.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport API from \"../../utils/API\";\nimport { Divider } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst item_shem = {\n  name: \"\",\n  description: \"\",\n  price: 0\n};\nconst timeRefresh = 1500;\nexport default function ItemListSelf(props) {\n  _s();\n\n  const [items, set_items] = useState(props.items);\n  const [show_change, set_show_change] = useState(false);\n  const [item_change, set_item_change] = useState(item_shem);\n  useEffect(() => {\n    set_items(props.items);\n  }, []);\n\n  const HandleChange = item => {\n    console.log(item);\n    set_item_change(item);\n    set_show_change(true);\n  };\n\n  const SendChange = () => {\n    API.changeItem(item_change._id, item_change);\n    let itemsChange = items.map(item => {\n      if (item._id === item_change._id) item = item_change;\n      return item;\n    });\n    set_items(itemsChange);\n    set_item_change(item_shem);\n    set_show_change(false);\n  };\n\n  const HandleDelete = item => {\n    API.deleteItem(item._id);\n    let newItem = items.filter(i => i._id !== item._id);\n    set_items(newItem);\n  };\n\n  const Item_Change = () => {\n    return /*#__PURE__*/_jsxDEV(Backdrop, {\n      sx: {\n        color: \"#fff\",\n        zIndex: theme => theme.zIndex.drawer + 1\n      },\n      open: show_change,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        sx: {\n          \"& .MuiTextField-root\": {\n            m: 1,\n            width: \"25ch\"\n          }\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" Changement de l'objet \", item_change.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            multiline: true,\n            variant: \"filled\",\n            defaultValue: item_change.name,\n            id: \"outlined-required\",\n            label: \"nom\",\n            onChange: e => set_item_change({ ...item_change,\n              name: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            multiline: true,\n            variant: \"filled\",\n            label: \"description\",\n            onChange: e => set_item_change({ ...item_change,\n              description: e.target.value\n            }),\n            defaultValue: item_change.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            multiline: true,\n            variant: \"filled\",\n            sx: {\n              width: \"12ch\"\n            },\n            label: \"prix\",\n            id: \"standard-number\",\n            type: \"number\",\n            onChange: e => set_item_change({ ...item_change,\n              price: e.target.value\n            }),\n            defaultValue: item_change.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => SendChange(),\n            children: \"ENVOI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            onClick: () => set_show_change(false),\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  };\n\n  const List_items = () => {\n    const selfItems = items.filter(item => item.id_owner === props.id);\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 1,\n        paddingLeft: 1 / 2,\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"MES OBJETS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: selfItems.map((item, n) => {\n          let price = item.price + \" €\";\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                sx: {\n                  textAlign: \"center\"\n                },\n                primary: item.name,\n                secondary: price\n              }, item.name + \" ok\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, item.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => HandleChange(item),\n                children: \"Modifier\"\n              }, item.name + \"55\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: () => HandleDelete(item),\n                children: \"Supprimer\"\n              }, item.name + \"85\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this)]\n            }, n, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)]\n          }, item.name + \"55\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this);\n        })\n      }, 9999, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [Item_Change(), List_items()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ItemListSelf, \"3ywNv0SaA7OHFRZYezp3yyY7hLU=\");\n\n_c = ItemListSelf;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListSelf\");","map":{"version":3,"sources":["/home/rems/Documents/FAC/L3/S6/JSFS/vendez_les_votre/client/src/components/ItemsList/ItemListSelf.js"],"names":["React","useState","useEffect","Button","List","ListItem","ListItemText","Backdrop","TextField","Box","API","Divider","item_shem","name","description","price","timeRefresh","ItemListSelf","props","items","set_items","show_change","set_show_change","item_change","set_item_change","HandleChange","item","console","log","SendChange","changeItem","_id","itemsChange","map","HandleDelete","deleteItem","newItem","filter","i","Item_Change","color","zIndex","theme","drawer","m","width","e","target","value","List_items","selfItems","id_owner","id","paddingLeft","textAlign","n"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport API from \"../../utils/API\";\nimport { Divider } from \"@mui/material\";\n\nconst item_shem = {\n  name: \"\",\n  description: \"\",\n  price: 0,\n};\n\nconst timeRefresh = 1500;\n\nexport default function ItemListSelf(props) {\n  const [items, set_items] = useState(props.items);\n  const [show_change, set_show_change] = useState(false);\n  const [item_change, set_item_change] = useState(item_shem);\n\n  useEffect(() => {\n    set_items(props.items);\n  }, []);\n\n  const HandleChange = (item) => {\n    console.log(item);\n    set_item_change(item);\n    set_show_change(true);\n  };\n\n  const SendChange = () => {\n    API.changeItem(item_change._id, item_change);\n    let itemsChange = items.map((item) => {\n      if (item._id === item_change._id) item = item_change;\n      return item;\n    });\n    set_items(itemsChange);\n    set_item_change(item_shem);\n    set_show_change(false);\n  };\n\n  const HandleDelete = (item) => {\n    API.deleteItem(item._id);\n    let newItem = items.filter((i) => i._id !== item._id);\n    set_items(newItem);\n  };\n\n  const Item_Change = () => {\n    return (\n      <Backdrop\n        sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        open={show_change}\n      >\n        <Box\n          component=\"form\"\n          sx={{\n            \"& .MuiTextField-root\": { m: 1, width: \"25ch\" },\n          }}\n          noValidate\n          autoComplete=\"off\"\n        >\n          <h2> Changement de l'objet {item_change.name}</h2>\n          <div>\n            <TextField\n              multiline\n              variant=\"filled\"\n              defaultValue={item_change.name}\n              id=\"outlined-required\"\n              label=\"nom\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  name: e.target.value,\n                })\n              }\n            ></TextField>\n            <TextField\n              multiline\n              variant=\"filled\"\n              label=\"description\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  description: e.target.value,\n                })\n              }\n              defaultValue={item_change.description}\n            ></TextField>\n            <TextField\n              multiline\n              variant=\"filled\"\n              sx={{ width: \"12ch\" }}\n              label=\"prix\"\n              id=\"standard-number\"\n              type=\"number\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  price: e.target.value,\n                })\n              }\n              defaultValue={item_change.price}\n            ></TextField>\n          </div>\n          <Box>\n            <Button onClick={() => SendChange()}>ENVOI</Button>\n            <Button color=\"secondary\" onClick={() => set_show_change(false)}>\n              Annuler\n            </Button>\n          </Box>\n        </Box>\n      </Backdrop>\n    );\n  };\n\n  const List_items = () => {\n    const selfItems = items.filter((item) => item.id_owner === props.id);\n\n    return (\n      <Box sx={{ width: 1, paddingLeft: 1 / 2, textAlign: \"center\" }}>\n        <h2>MES OBJETS</h2>\n        <List key={9999}>\n          {selfItems.map((item, n) => {\n            let price = item.price + \" €\";\n            return (\n              <div key={item.name + \"55\"}>\n                <ListItem key={item.name}>\n                  <ListItemText\n                    sx={{ textAlign: \"center\" }}\n                    key={item.name + \" ok\"}\n                    primary={item.name}\n                    secondary={price}\n                  />\n                </ListItem>\n                <ListItem key={n}>\n                  <Button\n                    key={item.name + \"55\"}\n                    onClick={() => HandleChange(item)}\n                  >\n                    Modifier\n                  </Button>\n                  <Button\n                    key={item.name + \"85\"}\n                    color=\"secondary\"\n                    onClick={() => HandleDelete(item)}\n                  >\n                    Supprimer\n                  </Button>\n                </ListItem>\n                <Divider />\n              </div>\n            );\n          })}\n        </List>\n      </Box>\n    );\n  };\n  return (\n    <div>\n      {Item_Change()}\n      {List_items()}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}