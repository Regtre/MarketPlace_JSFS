{"ast":null,"code":"var _jsxFileName = \"/home/rems/Documents/FAC/L3/S6/JSFS/vendez_les_votre/client/src/components/ItemsList/ItemListSelf.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport API from \"../../utils/API\";\nimport { Divider } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst item_shem = {\n  name: \"\",\n  description: \"\",\n  price: 0\n};\nconst timeRefresh = 1500;\nexport default function ItemListSelf(props) {\n  _s();\n\n  const [items, set_items] = useState(props.items);\n  const [item_change, set_item_change] = useState(item_shem);\n\n  const HandleChange = item => {\n    console.log(item);\n    set_item_change(item);\n    set_show_change(true);\n  };\n\n  const SendChange = () => {\n    API.changeItem(item_change._id, item_change);\n    let itemsChange = items.map(item => {\n      if (item._id === item_change._id) item = item_change;\n      return item;\n    });\n    set_items(itemsChange);\n    set_item_change(item_shem);\n    set_show_change(false);\n  };\n\n  const HandleDelete = item => {\n    API.deleteItem(item._id);\n    let newItem = items.filter(i => i._id !== item._id);\n    set_items(newItem);\n  };\n\n  const Item_Change = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      sx: {\n        \"& .MuiTextField-root\": {\n          m: 1,\n          width: \"25ch\"\n        }\n      },\n      noValidate: true,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" Changement de l'objet \", item_change.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          multiline: true,\n          variant: \"filled\",\n          defaultValue: item_change.name,\n          id: \"outlined-required\",\n          label: \"nom\",\n          onChange: e => set_item_change({ ...item_change,\n            name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          multiline: true,\n          variant: \"filled\",\n          label: \"description\",\n          onChange: e => set_item_change({ ...item_change,\n            description: e.target.value\n          }),\n          defaultValue: item_change.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          multiline: true,\n          variant: \"filled\",\n          sx: {\n            width: \"12ch\"\n          },\n          label: \"prix\",\n          id: \"standard-number\",\n          type: \"number\",\n          onChange: e => set_item_change({ ...item_change,\n            price: e.target.value\n          }),\n          defaultValue: item_change.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => SendChange(),\n          children: \"ENVOI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: () => set_show_change(false),\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this);\n  };\n\n  const List_items = () => {\n    const selfItems = items.filter(item => item.id_owner === props.id);\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 1,\n        paddingLeft: 1 / 2,\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"MES OBJETS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: selfItems.map((item, n) => {\n          let price = item.price + \" €\";\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                sx: {\n                  textAlign: \"center\"\n                },\n                primary: item.name,\n                secondary: price\n              }, item.name + \" ok\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)\n            }, item.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => HandleChange(item),\n                children: \"Modifier\"\n              }, item.name + \"55\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: () => HandleDelete(item),\n                children: \"Supprimer\"\n              }, item.name + \"85\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)]\n            }, n, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, item.name + \"55\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this);\n        })\n      }, 9999, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [Item_Change(), List_items()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ItemListSelf, \"EwHtjgan/XS2FF9uHtzwNlgJeck=\");\n\n_c = ItemListSelf;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListSelf\");","map":{"version":3,"sources":["/home/rems/Documents/FAC/L3/S6/JSFS/vendez_les_votre/client/src/components/ItemsList/ItemListSelf.js"],"names":["React","useState","useEffect","Button","List","ListItem","ListItemText","Backdrop","TextField","Box","API","Divider","item_shem","name","description","price","timeRefresh","ItemListSelf","props","items","set_items","item_change","set_item_change","HandleChange","item","console","log","set_show_change","SendChange","changeItem","_id","itemsChange","map","HandleDelete","deleteItem","newItem","filter","i","Item_Change","m","width","e","target","value","List_items","selfItems","id_owner","id","paddingLeft","textAlign","n"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport TextField from \"@mui/material/TextField\";\nimport Box from \"@mui/material/Box\";\nimport API from \"../../utils/API\";\nimport { Divider } from \"@mui/material\";\n\nconst item_shem = {\n  name: \"\",\n  description: \"\",\n  price: 0,\n};\n\nconst timeRefresh = 1500;\n\nexport default function ItemListSelf(props) {\n  const [items, set_items] = useState(props.items);\n  const [item_change, set_item_change] = useState(item_shem);\n\n\n  const HandleChange = (item) => {\n    console.log(item);\n    set_item_change(item);\n    set_show_change(true);\n  };\n\n  const SendChange = () => {\n    API.changeItem(item_change._id, item_change);\n    let itemsChange = items.map((item) => {\n      if (item._id === item_change._id) item = item_change;\n      return item;\n    });\n    set_items(itemsChange);\n    set_item_change(item_shem);\n    set_show_change(false);\n  };\n\n  const HandleDelete = (item) => {\n    API.deleteItem(item._id);\n    let newItem = items.filter((i) => i._id !== item._id);\n    set_items(newItem);\n  };\n\n  const Item_Change = () => {\n    return (\n        <Box\n          component=\"form\"\n          sx={{\n            \"& .MuiTextField-root\": { m: 1, width: \"25ch\" },\n          }}\n          noValidate\n          autoComplete=\"off\"\n        >\n          <h2> Changement de l'objet {item_change.name}</h2>\n          <div>\n            <TextField\n              multiline\n              variant=\"filled\"\n              defaultValue={item_change.name}\n              id=\"outlined-required\"\n              label=\"nom\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  name: e.target.value,\n                })\n              }\n            ></TextField>\n            <TextField\n              multiline\n              variant=\"filled\"\n              label=\"description\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  description: e.target.value,\n                })\n              }\n              defaultValue={item_change.description}\n            ></TextField>\n            <TextField\n              multiline\n              variant=\"filled\"\n              sx={{ width: \"12ch\" }}\n              label=\"prix\"\n              id=\"standard-number\"\n              type=\"number\"\n              onChange={(e) =>\n                set_item_change({\n                  ...item_change,\n                  price: e.target.value,\n                })\n              }\n              defaultValue={item_change.price}\n            ></TextField>\n          </div>\n          <Box>\n            <Button onClick={() => SendChange()}>ENVOI</Button>\n            <Button color=\"secondary\" onClick={() => set_show_change(false)}>\n              Annuler\n            </Button>\n          </Box>\n        </Box>\n    );\n  };\n\n  const List_items = () => {\n    const selfItems = items.filter((item) => item.id_owner === props.id);\n\n    return (\n      <Box sx={{ width: 1, paddingLeft: 1 / 2, textAlign: \"center\" }}>\n        <h2>MES OBJETS</h2>\n        <List key={9999}>\n          {selfItems.map((item, n) => {\n            let price = item.price + \" €\";\n            return (\n              <div key={item.name + \"55\"}>\n                <ListItem key={item.name}>\n                  <ListItemText\n                    sx={{ textAlign: \"center\" }}\n                    key={item.name + \" ok\"}\n                    primary={item.name}\n                    secondary={price}\n                  />\n                </ListItem>\n                <ListItem key={n}>\n                  <Button\n                    key={item.name + \"55\"}\n                    onClick={() => HandleChange(item)}\n                  >\n                    Modifier\n                  </Button>\n                  <Button\n                    key={item.name + \"85\"}\n                    color=\"secondary\"\n                    onClick={() => HandleDelete(item)}\n                  >\n                    Supprimer\n                  </Button>\n                </ListItem>\n                <Divider />\n              </div>\n            );\n          })}\n        </List>\n      </Box>\n    );\n  };\n  return (\n    <div>\n      {Item_Change()}\n      {List_items()}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}